<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”¥ ì¼ì˜ëŸ¬ ì¼ëª»ëŸ¬ í…ŒìŠ¤íŠ¸: ë‚˜ì˜ ì—…ë¬´ ì ì¬ë ¥ ì°¾ê¸°! ğŸ”¥</title>
    <!-- Google Fonts - Noto Sans KR for better Korean typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles */
        body {
            font-family: 'Noto Sans KR', sans-serif; /* ì¹œê·¼í•œ í•œê¸€ í°íŠ¸ ì ìš© */
            background-color: #f8faff; /* ë” ë°ê³  ë¶€ë“œëŸ¬ìš´ ë°°ê²½ìƒ‰ */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* ìƒë‹¨ì—ì„œ ì‹œì‘í•˜ë„ë¡ ë³€ê²½ */
            min-height: 100vh;
            padding: 30px 20px; /* ìƒí•˜ì¢Œìš° ì—¬ë°± ì¶”ê°€ */
            box-sizing: border-box;
        }
        .container {
            background-color: #ffffff;
            padding: 40px; /* ì—¬ìœ ë¡œìš´ íŒ¨ë”© */
            border-radius: 20px; /* ë” ë¶€ë“œëŸ¬ìš´ ëª¨ì„œë¦¬ */
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.08); /* ì€ì€í•œ ê·¸ë¦¼ì */
            max-width: 900px;
            width: 100%;
            margin-top: 20px;
            box-sizing: border-box; /* íŒ¨ë”©ì´ ë„ˆë¹„ì— í¬í•¨ë˜ë„ë¡ */
        }
        h1, h2 {
            color: #2c3e50;
            font-weight: 700;
            margin-bottom: 25px; /* ì œëª© ì•„ë˜ ì—¬ë°± ì¦ê°€ */
        }
        .section-title {
            font-size: 2.5rem; /* ì œëª© í¬ê¸° í‚¤ì›€ */
            font-weight: 800; /* ë” ë‘ê»ê²Œ */
            color: #2b6cb0; /* ë©”ì¸ ì»¬ëŸ¬ì™€ ì–´ìš¸ë¦¬ëŠ” ì²­ë¡ìƒ‰ ê³„ì—´ */
            text-align: center;
            padding-bottom: 15px; /* ì•„ë˜ìª½ íŒ¨ë”© ì¦ê°€ */
            border-bottom: 4px solid #4CAF50; /* ê°•ì¡° ë¼ì¸ */
            line-height: 1.3;
        }
        .intro-text {
            text-align: center;
            margin-bottom: 35px; /* ì˜¤í”„ë‹ í…ìŠ¤íŠ¸ ì•„ë˜ ì—¬ë°± ì¦ê°€ */
            font-size: 1.15rem; /* í…ìŠ¤íŠ¸ í¬ê¸° í‚¤ì›€ */
            color: #4a5568;
            line-height: 1.7; /* ì¤„ ê°„ê²© ì¡°ì ˆ */
        }
        .answer-guide {
            background-color: #e6f7ff; /* ë” ë¶€ë“œëŸ¬ìš´ íŒŒë€ ê³„ì—´ ë°°ê²½ */
            padding: 20px 25px; /* íŒ¨ë”© ì¦ê°€ */
            border-radius: 12px;
            border: 1px solid #90cdf4; /* í…Œë‘ë¦¬ ìƒ‰ìƒ ì¡°ì • */
            margin-bottom: 40px; /* ê°€ì´ë“œ ì•„ë˜ ì—¬ë°± ì¦ê°€ */
            font-size: 1rem;
            line-height: 1.8; /* ì¤„ ê°„ê²© ì¡°ì ˆ */
            color: #2b6cb0; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ ì¡°ì • */
            text-align: left;
        }
        .answer-guide strong {
            color: #007bb5;
            font-weight: 700; /* ë” êµµê²Œ */
        }
        .answer-guide ul {
            margin-top: 10px; /* ëª©ë¡ ìœ„ ì—¬ë°± */
            list-style: none; /* ê¸°ë³¸ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ ì œê±° */
            padding-left: 0;
        }
        .answer-guide ul li {
            margin-bottom: 8px; /* ë¦¬ìŠ¤íŠ¸ í•­ëª© ê°„ ì—¬ë°± */
            position: relative;
            padding-left: 28px; /* ì´ëª¨ì§€ ê³µê°„ */
        }
        .answer-guide ul li::before {
            content: 'ğŸ‘‰'; /* ì´ëª¨ì§€ ë³€ê²½ */
            position: absolute;
            left: 0;
            font-size: 1.1em;
            top: 1px; /* ìœ„ì¹˜ ì¡°ì • */
        }
        .question-item {
            margin-bottom: 25px; /* ì§ˆë¬¸ í•­ëª© ê°„ ì—¬ë°± ì¦ê°€ */
            padding: 20px; /* íŒ¨ë”© ì¦ê°€ */
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.06); /* ì€ì€í•œ ê·¸ë¦¼ì */
            display: flex;
            flex-direction: column;
        }
        .question-item label {
            font-weight: 600; /* ë” êµµê²Œ */
            color: #2d3748;
            margin-bottom: 18px; /* ì§ˆë¬¸ê³¼ ì˜µì…˜ ì‚¬ì´ ì—¬ë°± ì¦ê°€ */
            line-height: 1.7;
            font-size: 1.1rem; /* í…ìŠ¤íŠ¸ í¬ê¸° í‚¤ì›€ */
        }
        .question-item .options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px; /* ì˜µì…˜ ê°„ ì—¬ë°± ì¦ê°€ */
            justify-content: center; /* ì¤‘ì•™ ì •ë ¬ ìœ ì§€ */
        }
        .question-item input[type="radio"] {
            display: none;
        }
        .question-item .option-label {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f0f4f8; /* ë” ë¶€ë“œëŸ¬ìš´ ì˜µì…˜ ë°°ê²½ìƒ‰ */
            padding: 12px 22px; /* íŒ¨ë”© ì¦ê°€ */
            border-radius: 30px; /* ë” ë‘¥ê¸€ê²Œ */
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            border: 2px solid #dbe2ea; /* í…Œë‘ë¦¬ ìƒ‰ìƒ ì¡°ì • */
            color: #4a5568;
            font-weight: 500;
            min-width: 150px; /* ê³ ì • ë„ˆë¹„ */
            height: auto; /* ë†’ì´ë¥¼ ìë™ìœ¼ë¡œ ì¡°ì ˆí•˜ì—¬ í…ìŠ¤íŠ¸ ì¤„ë°”ê¿ˆ í—ˆìš© */
            min-height: 50px; /* ìµœì†Œ ë†’ì´ ì„¤ì • */
            flex-shrink: 0; /* ì¶•ì†Œ ë°©ì§€ */
            flex-grow: 1; /* ê°€ëŠ¥í•œ ê²½ìš° í™•ì¥ */
            text-align: center;
            line-height: 1.4; /* ì˜µì…˜ í…ìŠ¤íŠ¸ ì¤„ ê°„ê²© */
        }
        .question-item .option-label:hover {
            background-color: #e2eaf0;
            border-color: #a0b0c0;
        }
        .question-item input[type="radio"]:checked + .option-label {
            background-color: #4CAF50;
            color: white;
            font-weight: 700; /* ì„ íƒ ì‹œ ë” êµµê²Œ */
            border-color: #4CAF50;
            box-shadow: 0 6px 15px rgba(76, 175, 80, 0.3); /* ê·¸ë¦¼ì ê°•ë„ ì¡°ì • */
            transform: translateY(-3px); /* ì„ íƒ ì‹œ ì‚´ì§ ìœ„ë¡œ ì´ë™ */
        }
        .submit-button {
            background-color: #4CAF50;
            color: white;
            padding: 18px 35px; /* íŒ¨ë”© ì¦ê°€ */
            border: none;
            border-radius: 15px; /* ë” ë¶€ë“œëŸ¬ìš´ ëª¨ì„œë¦¬ */
            cursor: pointer;
            font-size: 1.3rem; /* í°íŠ¸ í¬ê¸° í‚¤ì›€ */
            font-weight: 700;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            width: 100%;
            margin-top: 40px; /* ìœ„ ì—¬ë°± ì¦ê°€ */
            box-shadow: 0 10px 25px rgba(76, 175, 80, 0.35); /* ê·¸ë¦¼ì ê°•ë„ ì¡°ì • */
        }
        .submit-button:hover {
            background-color: #45a049;
            transform: translateY(-4px); /* í˜¸ë²„ ì‹œ ë” ë§ì´ ì´ë™ */
            box-shadow: 0 15px 30px rgba(76, 175, 80, 0.45);
        }
        .result-section {
            margin-top: 50px; /* ê²°ê³¼ ì„¹ì…˜ ìœ„ ì—¬ë°± ì¦ê°€ */
            padding: 35px; /* íŒ¨ë”© ì¦ê°€ */
            background-color: #f0fff4; /* ë” ë°ê³  ë¶€ë“œëŸ¬ìš´ ì´ˆë¡ ê³„ì—´ ë°°ê²½ */
            border-radius: 25px; /* ë” ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            border: 3px solid #66bb6a; /* í…Œë‘ë¦¬ ìƒ‰ìƒ ì¡°ì • */
            display: none;
            text-align: center;
            animation: fadeIn 0.8s ease-out; /* ë¶€ë“œëŸ¬ìš´ ë“±ì¥ ì• ë‹ˆë©”ì´ì…˜ */
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .result-section h2 {
            color: #28a745;
            font-size: 2.5rem; /* ê²°ê³¼ ì œëª© í¬ê¸° í‚¤ì›€ */
            margin-bottom: 30px; /* ì•„ë˜ ì—¬ë°± ì¦ê°€ */
            position: relative;
        }
        .result-section h2::after {
            content: 'âœ¨'; /* ì´ëª¨ì§€ ì¶”ê°€ */
            display: inline-block;
            margin-left: 10px;
            font-size: 0.8em;
            vertical-align: middle;
        }
        .result-section h2::before { /* ì•„ë˜ ë¼ì¸ì„ ì´ëª¨ì§€ ëŒ€ì‹  ì‚¬ìš© */
            content: '';
            display: block;
            width: 80px; /* ë¼ì¸ ê¸¸ì´ ì¦ê°€ */
            height: 5px; /* ë¼ì¸ ë‘ê»˜ ì¦ê°€ */
            background-color: #28a745;
            margin: 20px auto 0; /* ì—¬ë°± ì¡°ì • */
            border-radius: 3px;
        }
        .score-display { /* This class is now unused but kept for reference if needed later */
            font-size: 3rem; /* ì ìˆ˜ í‘œì‹œ í¬ê¸° í‚¤ì›€ */
            font-weight: 800;
            color: #28a745;
            margin-bottom: 30px;
            animation: pulse 2s infinite ease-in-out; /* ì• ë‹ˆë©”ì´ì…˜ ì†ë„ ì¡°ì • */
        }
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.03); opacity: 0.95; } /* íš¨ê³¼ë¥¼ ë” ë¶€ë“œëŸ½ê²Œ */
            100% { transform: scale(1); opacity: 1; }
        }
        .diagnosis-summary {
            font-size: 1.3rem; /* ìš”ì•½ í…ìŠ¤íŠ¸ í¬ê¸° í‚¤ì›€ */
            line-height: 2; /* ì¤„ ê°„ê²© ë„“í˜ */
            color: #333;
            margin-bottom: 35px; /* ì•„ë˜ ì—¬ë°± ì¦ê°€ */
            background-color: #f8fffb; /* ë” ë°ì€ ë°°ê²½ */
            padding: 25px; /* íŒ¨ë”© ì¦ê°€ */
            border-radius: 15px;
            border: 1px solid #c8e6c9; /* í…Œë‘ë¦¬ ìƒ‰ìƒ ì¡°ì • */
            font-weight: 500;
        }
        .diagnosis-summary strong {
            color: #28a745;
        }
        .diagnosis-detail {
            text-align: left;
            margin-top: 30px; /* ìœ„ ì—¬ë°± ì¦ê°€ */
        }
        .diagnosis-detail h3 {
            font-size: 1.8rem; /* ì„¸ë¶€ ì§„ë‹¨ ì œëª© í¬ê¸° */
            color: #3f51b5; /* íŒŒë€ ê³„ì—´ ìƒ‰ìƒ */
            margin-bottom: 20px; /* ì•„ë˜ ì—¬ë°± ì¦ê°€ */
            border-bottom: 2px solid #a7d9ed; /* í…Œë‘ë¦¬ ìƒ‰ìƒ ì¡°ì • */
            padding-bottom: 10px;
            font-weight: 700;
        }
        .diagnosis-detail p {
            font-size: 1.15rem; /* í…ìŠ¤íŠ¸ í¬ê¸° */
            line-height: 1.8;
            color: #555;
            margin-bottom: 15px; /* ì•„ë˜ ì—¬ë°± ì¦ê°€ */
        }
        .diagnosis-detail ul {
            list-style-type: none;
            padding-left: 0;
            margin-top: 15px; /* ëª©ë¡ ìœ„ ì—¬ë°± */
        }
        .diagnosis-detail ul li {
            position: relative;
            padding-left: 30px; /* ì´ëª¨ì§€ ê³µê°„ */
            margin-bottom: 12px; /* ë¦¬ìŠ¤íŠ¸ í•­ëª© ê°„ ì—¬ë°± */
            color: #555;
            font-size: 1.05rem;
        }
        .diagnosis-detail ul li::before {
            content: 'âœ…';
            position: absolute;
            left: 0;
            color: #4CAF50;
            font-size: 1.3em; /* ì´ëª¨ì§€ í¬ê¸° í‚¤ì›€ */
            top: 2px; /* ìœ„ì¹˜ ì¡°ì • */
        }
        .domain-score-section {
            margin-top: 40px; /* ìœ„ ì—¬ë°± ì¦ê°€ */
            padding: 25px; /* íŒ¨ë”© ì¦ê°€ */
            background-color: #e3f2fd; /* ë” ë°ê³  ë¶€ë“œëŸ¬ìš´ í•˜ëŠ˜ìƒ‰ ë°°ê²½ */
            border-radius: 20px; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            border: 2px solid #90caf9; /* í…Œë‘ë¦¬ ìƒ‰ìƒ ì¡°ì • */
        }
        .domain-score-section h3 {
            font-size: 2rem; /* ì˜ì—­ë³„ ì ìˆ˜ ì œëª© í¬ê¸° í‚¤ì›€ */
            color: #1976d2; /* íŒŒë€ìƒ‰ ê³„ì—´ */
            margin-bottom: 25px; /* ì•„ë˜ ì—¬ë°± ì¦ê°€ */
            text-align: center;
            font-weight: 700;
        }
        .domain-score-item {
            display: flex;
            flex-direction: column; /* í•­ëª©ì„ ì„¸ë¡œë¡œ ì •ë ¬ */
            align-items: flex-start; /* ì™¼ìª½ ì •ë ¬ */
            padding: 12px 0; /* íŒ¨ë”© ì¦ê°€ */
            border-bottom: 1px dashed #bbdefb; /* í…Œë‘ë¦¬ ìƒ‰ìƒ ì¡°ì • */
            margin-bottom: 15px; /* í•­ëª© ê°„ ì—¬ë°± */
        }
        .domain-score-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        .domain-score-item .domain-name {
            font-size: 1.15rem; /* í°íŠ¸ í¬ê¸° í‚¤ì›€ */
            font-weight: 600;
            color: #263238;
            margin-bottom: 8px; /* ì´ë¦„ ì•„ë˜ ì—¬ë°± */
        }
        .progress-bar-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 10px;
            height: 20px; /* ë°” ë†’ì´ */
            overflow: hidden; /* ë‚´ë¶€ ë°”ê°€ íŠ€ì–´ë‚˜ì˜¤ì§€ ì•Šë„ë¡ */
            margin-bottom: 8px; /* ë°” ì•„ë˜ ì—¬ë°± */
        }
        .progress-bar {
            height: 100%;
            /* background-color will be set by JS based on score */
            border-radius: 10px;
            transition: width 0.8s ease-out, background-color 0.5s ease-out; /* ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ */
            display: flex;
            align-items: center;
            justify-content: flex-end; /* ì ìˆ˜ë¥¼ ì˜¤ë¥¸ìª½ì— í‘œì‹œ */
            padding-right: 8px;
            box-sizing: border-box;
        }
        .progress-bar.low { background-color: #ef5350; } /* Red */
        .progress-bar.medium { background-color: #ffb300; } /* Orange */
        .progress-bar.high { background-color: #66bb6a; } /* Green */

        .progress-bar .score-text {
            color: white;
            font-weight: 700;
            font-size: 0.9rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        /* Custom Message Box Styles */
        .message-box-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .message-box-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }
        .message-box-content p {
            font-size: 1.1rem;
            color: #333;
            margin-bottom: 20px;
        }
        .message-box-content button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.2s;
        }
        .message-box-content button:hover {
            background-color: #45a049;
        }

        /* New styles for detailed analysis */
        .analysis-category {
            margin-top: 25px;
            padding: 15px;
            border-radius: 10px;
        }
        .analysis-category.strength {
            background-color: #e8f5e9; /* Light green */
            border: 1px solid #66bb6a;
        }
        .analysis-category.weakness {
            background-color: #ffebee; /* Light red */
            border: 1px solid #ef5350;
        }
        .analysis-category h4 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: #2e7d32; /* Dark green for strengths */
        }
        .analysis-category.weakness h4 {
            color: #d32f2f; /* Dark red for weaknesses */
        }
        .analysis-category ul {
            list-style-type: disc;
            margin-left: 20px;
            color: #444;
        }
        .analysis-category ul li {
            margin-bottom: 5px;
            font-size: 1rem;
        }

        /* MBTI style result section */
        .archetype-result {
            background-color: #f0f8ff; /* Lighter blue background */
            border: 2px solid #6a93cb;
            border-radius: 20px;
            padding: 30px;
            margin-top: 40px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        .archetype-title {
            font-size: 2.8rem;
            font-weight: 800;
            color: #3a5a9a; /* Darker blue */
            margin-bottom: 15px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        .archetype-subtitle {
            font-size: 1.5rem;
            font-weight: 600;
            color: #5c7ebc;
            margin-bottom: 25px;
        }
        .archetype-description {
            font-size: 1.15rem;
            line-height: 1.8;
            color: #4a4a4a;
            margin-bottom: 30px;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 15px;
            border: 1px solid #c0d8f0;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        }
        .archetype-image {
            width: 150px;
            height: 150px;
            margin: 0 auto 20px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #6a93cb;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* Core Elements Section */
        .core-elements-intro {
            background-color: #fffde7; /* Light yellow background */
            border: 1px solid #ffeb3b;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: left;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .core-elements-intro h3 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #fbc02d; /* Darker yellow */
            margin-bottom: 15px;
            text-align: center;
            border-bottom: 2px dashed #ffd54f;
            padding-bottom: 10px;
        }
        .core-elements-intro p {
            font-size: 1.1rem;
            line-height: 1.7;
            color: #555;
            margin-bottom: 15px;
        }
        .core-elements-intro ul {
            list-style-type: none;
            padding-left: 0;
        }
        .core-elements-intro ul li {
            position: relative;
            padding-left: 30px;
            margin-bottom: 10px;
            font-size: 1.05rem;
            color: #444;
        }
        .core-elements-intro ul li strong {
            color: #fbc02d;
        }
        .core-elements-intro ul li::before {
            content: 'ğŸŒŸ'; /* Star emoji */
            position: absolute;
            left: 0;
            font-size: 1.2em;
            top: 0;
        }


        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 20px 15px; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
            }
            .container {
                padding: 25px;
                margin-top: 15px;
            }
            .section-title {
                font-size: 2rem;
            }
            .intro-text {
                font-size: 1rem;
                margin-bottom: 25px;
            }
            .answer-guide {
                padding: 15px 20px;
                font-size: 0.9rem;
                margin-bottom: 30px;
            }
            .answer-guide ul li::before {
                font-size: 1em;
                top: 0;
            }
            .question-item {
                padding: 15px;
                margin-bottom: 20px;
            }
            .question-item label {
                font-size: 1rem;
                margin-bottom: 15px;
            }
            .question-item .options {
                flex-direction: column; /* ëª¨ë°”ì¼ì—ì„œ ì˜µì…˜ ì„¸ë¡œ ì •ë ¬ */
                align-items: stretch; /* ì „ì²´ ë„ˆë¹„ë¡œ í™•ì¥ */
                gap: 10px; /* ì˜µì…˜ ê°„ ê°„ê²© ì¡°ì • */
            }
            .question-item .option-label {
                padding: 12px 15px;
                font-size: 0.95rem;
                min-width: unset; /* ìµœì†Œ ë„ˆë¹„ í•´ì œ */
                width: auto; /* ëª¨ë°”ì¼ì—ì„œ autoë¡œ ë³€ê²½ */
                height: auto; /* ëª¨ë°”ì¼ì—ì„œ autoë¡œ ë³€ê²½ */
            }
            .submit-button {
                font-size: 1.15rem;
                padding: 15px 25px;
                margin-top: 30px;
            }
            .result-section {
                padding: 25px;
                margin-top: 40px;
            }
            .result-section h2 {
                font-size: 1.8rem;
                margin-bottom: 20px;
            }
            .result-section h2::before {
                width: 60px;
                margin: 15px auto 0;
            }
            .score-display {
                font-size: 2.5rem;
                margin-bottom: 20px;
            }
            .diagnosis-summary {
                font-size: 1.05rem;
                padding: 20px;
                margin-bottom: 25px;
            }
            .diagnosis-detail h3 {
                font-size: 1.5rem;
                margin-bottom: 15px;
            }
            .diagnosis-detail p, .diagnosis-detail ul li {
                font-size: 0.95rem;
                line-height: 1.6;
            }
            .diagnosis-detail ul li {
                padding-left: 25px;
                margin-bottom: 8px;
            }
            .diagnosis-detail ul li::before {
                font-size: 1.1em;
                top: 1px;
            }
            .domain-score-section {
                padding: 20px;
                margin-top: 30px;
            }
            .domain-score-section h3 {
                font-size: 1.6rem;
                margin-bottom: 20px;
            }
            .domain-score-item {
                align-items: flex-start; /* ëª¨ë°”ì¼ì—ì„œ ë‹¤ì‹œ ì™¼ìª½ ì •ë ¬ */
            }
            .domain-score-item .domain-name {
                width: auto; /* ì´ë¦„ ë„ˆë¹„ ìë™ */
                text-align: left; /* ì´ë¦„ ì™¼ìª½ ì •ë ¬ */
            }
            .progress-bar-container {
                width: 100%; /* ì „ì²´ ë„ˆë¹„ */
            }
            .archetype-title {
                font-size: 2.2rem;
            }
            .archetype-subtitle {
                font-size: 1.2rem;
            }
            .archetype-description {
                font-size: 1rem;
            }
            .archetype-image {
                width: 120px;
                height: 120px;
            }
            .core-elements-intro h3 {
                font-size: 1.5rem;
            }
            .core-elements-intro p, .core-elements-intro ul li {
                font-size: 0.95rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="section-title">ğŸ”¥ ì¼ì˜ëŸ¬ ì¼ëª»ëŸ¬ í…ŒìŠ¤íŠ¸: ë‚˜ì˜ ì—…ë¬´ ì ì¬ë ¥ ì°¾ê¸°! ğŸ”¥</h1>
        <p class="intro-text">
          ì•ˆë…•í•˜ì„¸ìš”! ğŸ‰ ë‹¹ì‹ ì˜ ìˆ¨ê²¨ì§„ **ì—…ë¬´ ì ì¬ë ¥**ì„ ì‰½ê³  ì¬ë¯¸ìˆê²Œ íƒí—˜í•´ ë³¼ ì‹œê°„ì´ì—ìš”! âœ¨ ì§€ê¸ˆë¶€í„° ì†”ì§í•œ ë§ˆìŒìœ¼ë¡œ ì§ˆë¬¸ì— ë‹µí•˜ë©°, ë‹¹ì‹ ì˜ ì§„ì§œ ì—…ë¬´ ìŠ¤íƒ€ì¼ì´ 'ì¼ì˜ëŸ¬'ì— ê°€ê¹Œìš´ì§€, ì•„ë‹ˆë©´ 'ì¼ëª»ëŸ¬'ì—ì„œ 'ì¼ì˜ëŸ¬'ë¡œ ë³€ì‹  ì¤‘ì¸ì§€ í•¨ê»˜ ì•Œì•„ë´ìš”! ğŸ˜‰
        </p>

        <div class="answer-guide">
            <p><strong>ë‹µë³€ ì„ íƒ ê°€ì´ë“œ:</strong> ì‹ ì¤‘í•˜ê²Œ ê°€ì¥ ê°€ê¹Œìš´ ë³´ê¸°ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.</p>
            <ul>
                <li>**ë§¤ìš° ê·¸ë ‡ë‹¤:** 10ë²ˆ ì¤‘ 9ë²ˆ ì´ìƒ í•´ë‹¹ë  ë•Œ ì„ íƒí•´ ì£¼ì„¸ìš”. ğŸ‘</li>
                <li>**ê·¸ë ‡ë‹¤:** 10ë²ˆ ì¤‘ 7~8ë²ˆ ì •ë„ í•´ë‹¹ë  ë•Œìš”. ğŸ˜Š</li>
                <li>**ë³´í†µì´ë‹¤:** 10ë²ˆ ì¤‘ 5~6ë²ˆ ì •ë„ í•´ë‹¹ëœë‹¤ë©´ìš”. ğŸ¤”</li>
                <li>**ê±°ì˜ ê·¸ë ‡ì§€ ì•Šë‹¤:** 10ë²ˆ ì¤‘ 3~4ë²ˆ ì •ë„ í•´ë‹¹ë  ë•Œìš”. ğŸ˜…</li>
                <li>**ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤:** 10ë²ˆ ì¤‘ 1~2ë²ˆ ì´í•˜ë¡œ í•´ë‹¹ëœë‹¤ë©´ìš”. ğŸ˜¥</li>
            </ul>
        </div>

        <form id="selfDiagnosisForm">
            <!-- Questions will be dynamically shuffled and appended here by JavaScript -->
            <!-- Question 1-1 (ì—…ë¬´ì˜ ì–‘) -->
            <div class="question-item" id="q_item_1_1">
                <label for="q1_1">1. ì£¼ì–´ì§„ ì‹œê°„ ì•ˆì— ê°€ì¹˜ ìˆëŠ” ê²°ê³¼ë¬¼ì„ ì–¼ë§ˆë‚˜ ë§ì´ ìƒì‚°í•´ëƒ…ë‹ˆê¹Œ?</label>
                <div class="options">
                    <input type="radio" id="q1_1_5" name="q1_1" value="5" required>
                    <label for="q1_1_5" class="option-label">ë§¤ìš° ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q1_1_4" name="q1_1" value="4">
                    <label for="q1_1_4" class="option-label">ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q1_1_3" name="q1_1" value="3">
                    <label for="q1_1_3" class="option-label">ë³´í†µì´ë‹¤</label>
                    <input type="radio" id="q1_1_2" name="q1_1" value="2">
                    <label for="q1_1_2" class="option-label">ê±°ì˜ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                    <input type="radio" id="q1_1_1" name="q1_1" value="1">
                    <label for="q1_1_1" class="option-label">ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                </div>
            </div>

            <!-- Question 1-2 (ì—…ë¬´ì˜ ì–‘) -->
            <div class="question-item" id="q_item_1_2">
                <label for="q1_2">2. ì—…ë¬´ëŸ‰ì´ ë§ì•„ì§ˆ ë•Œë„, íš¨ìœ¨ì„±ì„ ìœ ì§€í•˜ë©° ëª©í‘œë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?</label>
                <div class="options">
                    <input type="radio" id="q1_2_5" name="q1_2" value="5" required>
                    <label for="q1_2_5" class="option-label">ë§¤ìš° ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q1_2_4" name="q1_2" value="4">
                    <label for="q1_2_4" class="option-label">ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q1_2_3" name="q1_2" value="3">
                    <label for="q1_2_3" class="option-label">ë³´í†µì´ë‹¤</label>
                    <input type="radio" id="q1_2_2" name="q1_2" value="2">
                    <label for="q1_2_2" class="option-label">ê±°ì˜ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                    <input type="radio" id="q1_2_1" name="q1_2" value="1">
                    <label for="q1_2_1" class="option-label">ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                </div>
            </div>

            <!-- Question 1-3 (ì—…ë¬´ì˜ ì–‘) -->
            <div class="question-item" id="q_item_1_3">
                <label for="q1_3">3. ë™ì‹œì— ì—¬ëŸ¬ ì—…ë¬´ë¥¼ ì²˜ë¦¬í•  ë•Œ, ê° ì—…ë¬´ì˜ ì§„í–‰ ìƒí™©ì„ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?</label>
                <div class="options">
                    <input type="radio" id="q1_3_5" name="q1_3" value="5" required>
                    <label for="q1_3_5" class="option-label">ë§¤ìš° ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q1_3_4" name="q1_3" value="4">
                    <label for="q1_3_4" class="option-label">ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q1_3_3" name="q1_3" value="3">
                    <label for="q1_3_3" class="option-label">ë³´í†µì´ë‹¤</label>
                    <input type="radio" id="q1_3_2" name="q1_3" value="2">
                    <label for="q1_3_2" class="option-label">ê±°ì˜ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                    <input type="radio" id="q1_3_1" name="q1_3" value="1">
                    <label for="q1_3_1" class="option-label">ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                </div>
            </div>

            <!-- Question 2-1 (ì™„ì„±ë„) -->
            <div class="question-item" id="q_item_2_1">
                <label for="q2_1">4. ì—…ë¬´ ê²°ê³¼ë¬¼ì— ì‹¤ìˆ˜ê°€ ê±°ì˜ ì—†ê³ , ë†’ì€ ì™„ì„±ë„ë¥¼ ë³´ì—¬ì¤ë‹ˆê¹Œ?</label>
                <div class="options">
                    <input type="radio" id="q2_1_5" name="q2_1" value="5" required>
                    <label for="q2_1_5" class="option-label">ë§¤ìš° ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q2_1_4" name="q2_1" value="4">
                    <label for="q2_1_4" class="option-label">ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q2_1_3" name="q2_1" value="3">
                    <label for="q2_1_3" class="option-label">ë³´í†µì´ë‹¤</label>
                    <input type="radio" id="q2_1_2" name="q2_1" value="2">
                    <label for="q2_1_2" class="option-label">ê±°ì˜ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                    <input type="radio" id="q2_1_1" name="q2_1" value="1">
                    <label for="q2_1_1" class="option-label">ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                </div>
            </div>

            <!-- Question 2-2 (ì™„ì„±ë„) -->
            <div class="question-item" id="q_item_2_2">
                <label for="q2_2">5. ê²°ê³¼ë¬¼ì´ ê³ ê°ì´ë‚˜ ë™ë£Œì˜ ê¸°ëŒ€ì¹˜ë¥¼ ì¶©ì¡±ì‹œí‚¤ê³  ë§Œì¡±ì„ ì£¼ëŠ” ìˆ˜ì¤€ì…ë‹ˆê¹Œ?</label>
                <div class="options">
                    <input type="radio" id="q2_2_5" name="q2_2" value="5" required>
                    <label for="q2_2_5" class="option-label">ë§¤ìš° ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q2_2_4" name="q2_2" value="4">
                    <label for="q2_2_4" class="option-label">ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q2_2_3" name="q2_2" value="3">
                    <label for="q2_2_3" class="option-label">ë³´í†µì´ë‹¤</label>
                    <input type="radio" id="q2_2_2" name="q2_2" value="2">
                    <label for="q2_2_2" class="option-label">ê±°ì˜ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                    <input type="radio" id="q2_2_1" name="q2_2" value="1">
                    <label for="q2_2_1" class="option-label">ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                </div>
            </div>

            <!-- Question 2-3 (ì™„ì„±ë„) -->
            <div class="question-item" id="q_item_2_3">
                <label for="q2_3">6. ìŠ¤ìŠ¤ë¡œ ì—…ë¬´ ê²°ê³¼ë¬¼ì˜ í’ˆì§ˆì„ ë†’ì´ê¸° ìœ„í•´ ì§€ì†ì ìœ¼ë¡œ ë…¸ë ¥í•˜ê³  ê°œì„ í•©ë‹ˆê¹Œ?</label>
                <div class="options">
                    <input type="radio" id="q2_3_5" name="q2_3" value="5" required>
                    <label for="q2_3_5" class="option-label">ë§¤ìš° ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q2_3_4" name="q2_3" value="4">
                    <label for="q2_3_4" class="option-label">ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q2_3_3" name="q2_3" value="3">
                    <label for="q2_3_3" class="option-label">ë³´í†µì´ë‹¤</label>
                    <input type="radio" id="q2_3_2" name="q2_3" value="2">
                    <label for="q2_3_2" class="option-label">ê±°ì˜ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                    <input type="radio" id="q2_3_1" name="q2_3" value="1">
                    <label for="q2_3_1" class="option-label">ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                </div>
            </div>

            <!-- Question 3-1 (ë‚œì´ë„) -->
            <div class="question-item" id="q_item_3_1">
                <label for="q3_1">7. ë³µì¡í•˜ê±°ë‚˜ ì–´ë ¤ìš´ "ì¼"ì— ì£¼ì €ì•‰ì§€ ì•Šê³  ìŠ¤ìŠ¤ë¡œ í•´ê²°í•˜ë ¤ ë…¸ë ¥í•©ë‹ˆê¹Œ?</label>
                <div class="options">
                    <input type="radio" id="q3_1_5" name="q3_1" value="5" required>
                    <label for="q3_1_5" class="option-label">ë§¤ìš° ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q3_1_4" name="q3_1" value="4">
                    <label for="q3_1_4" class="option-label">ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q3_1_3" name="q3_1" value="3">
                    <label for="q3_1_3" class="option-label">ë³´í†µì´ë‹¤</label>
                    <input type="radio" id="q3_1_2" name="q3_1" value="2">
                    <label for="q3_1_2" class="option-label">ê±°ì˜ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                    <input type="radio" id="q3_1_1" name="q3_1" value="1">
                    <label for="q3_1_1" class="option-label">ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                </div>
            </div>

            <!-- Question 3-2 (ë‚œì´ë„) -->
            <div class="question-item" id="q_item_3_2">
                <label for="q3_2">8. ì–´ë ¤ìš´ ë¬¸ì œë¥¼ ì„±ê³µì ìœ¼ë¡œ í•´ê²°í•˜ê¸° ìœ„í•´ ìƒˆë¡œìš´ ë°©ë²•ì´ë‚˜ ì ‘ê·¼ ë°©ì‹ì„ ì ê·¹ì ìœ¼ë¡œ ì°¾ì•„ ì ìš©í•©ë‹ˆê¹Œ?</label>
                <div class="options">
                    <input type="radio" id="q3_2_5" name="q3_2" value="5" required>
                    <label for="q3_2_5" class="option-label">ë§¤ìš° ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q3_2_4" name="q3_2" value="4">
                    <label for="q3_2_4" class="option-label">ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q3_2_3" name="q3_2" value="3">
                    <label for="q3_2_3" class="option-label">ë³´í†µì´ë‹¤</label>
                    <input type="radio" id="q3_2_2" name="q3_2" value="2">
                    <label for="q3_2_2" class="option-label">ê±°ì˜ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                    <input type="radio" id="q3_2_1" name="q3_2" value="1">
                    <label for="q3_2_1" class="option-label">ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                </div>
            </div>

            <!-- Question 3-3 (ë‚œì´ë„) -->
            <div class="question-item" id="q_item_3_3">
                <label for="q3_3">9. ìì‹ ì˜ ì—­ëŸ‰ì„ ë„˜ì–´ì„œëŠ” ë‚œì´ë„ì˜ ì—…ë¬´ë¥¼ í†µí•´ ì„±ì¥í•˜ëŠ” ê²ƒì„ ê¸ì •ì ìœ¼ë¡œ ë°›ì•„ë“¤ì…ë‹ˆê¹Œ?</label>
                <div class="options">
                    <input type="radio" id="q3_3_5" name="q3_3" value="5" required>
                    <label for="q3_3_5" class="option-label">ë§¤ìš° ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q3_3_4" name="q3_3" value="4">
                    <label for="q3_3_4" class="option-label">ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q3_3_3" name="q3_3" value="3">
                    <label for="q3_3_3" class="option-label">ë³´í†µì´ë‹¤</label>
                    <input type="radio" id="q3_3_2" name="q3_3" value="2">
                    <label for="q3_3_2" class="option-label">ê±°ì˜ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                    <input type="radio" id="q3_3_1" name="q3_3" value="1">
                    <label for="q3_3_1" class="option-label">ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                </div>
            </div>

            <!-- Question 4-1 (ì‹œê°„) -->
            <div class="question-item" id="q_item_4_1">
                <label for="q4_1">10. ì£¼ì–´ì§„ ê¸°í•œë³´ë‹¤ ë¹ ë¥´ê³  ì •í™•íˆ "ì¼"ì„ ì™„ë£Œí•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?</label>
                <div class="options">
                    <input type="radio" id="q4_1_5" name="q4_1" value="5" required>
                    <label for="q4_1_5" class="option-label">ë§¤ìš° ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q4_1_4" name="q4_1" value="4">
                    <label for="q4_1_4" class="option-label">ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q4_1_3" name="q4_1" value="3">
                    <label for="q4_1_3" class="option-label">ë³´í†µì´ë‹¤</label>
                    <input type="radio" id="q4_1_2" name="q4_1" value="2">
                    <label for="q4_1_2" class="option-label">ê±°ì˜ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                    <input type="radio" id="q4_1_1" name="q4_1" value="1">
                    <label for="q4_1_1" class="option-label">ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                </div>
            </div>

            <!-- Question 4-2 (ì‹œê°„) -->
            <div class="question-item" id="q_item_4_2">
                <label for="q4_2">11. íš¨ìœ¨ì ì¸ ì‹œê°„ ê´€ë¦¬ë¥¼ í†µí•´ ì—…ë¬´ ìƒì‚°ì„±ì„ ê·¹ëŒ€í™”í•©ë‹ˆê¹Œ?</label>
                <div class="options">
                    <input type="radio" id="q4_2_5" name="q4_2" value="5" required>
                    <label for="q4_2_5" class="option-label">ë§¤ìš° ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q4_2_4" name="q4_2" value="4">
                    <label for="q4_2_4" class="option-label">ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q4_2_3" name="q4_2" value="3">
                    <label for="q4_2_3" class="option-label">ë³´í†µì´ë‹¤</label>
                    <input type="radio" id="q4_2_2" name="q4_2" value="2">
                    <label for="q4_2_2" class="option-label">ê±°ì˜ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                    <input type="radio" id="q4_2_1" name="q4_2" value="1">
                    <label for="q4_2_1" class="option-label">ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                </div>
            </div>

            <!-- Question 4-3 (ì‹œê°„) -->
            <div class="question-item" id="q_item_4_3">
                <label for="q4_3">12. ì—…ë¬´ ë°©í•´ ìš”ì†Œë‚˜ ì˜ˆìƒì¹˜ ëª»í•œ ìƒí™©ì—ë„ ì‹œê°„ ê³„íšì„ ìœ ì—°í•˜ê²Œ ì¡°ì •í•˜ì—¬ ëª©í‘œë¥¼ ë‹¬ì„±í•©ë‹ˆê¹Œ?</label>
                <div class="options">
                    <input type="radio" id="q4_3_5" name="q4_3" value="5" required>
                    <label for="q4_3_5" class="option-label">ë§¤ìš° ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q4_3_4" name="q4_3" value="4">
                    <label for="q4_3_4" class="option-label">ê·¸ë ‡ë‹¤</label>
                    <input type="radio" id="q4_3_3" name="q4_3" value="3">
                    <label for="q4_3_3" class="option-label">ë³´í†µì´ë‹¤</label>
                    <input type="radio" id="q4_3_2" name="q4_3" value="2">
                    <label for="q4_3_2" class="option-label">ê±°ì˜ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                    <input type="radio" id="q4_3_1" name="q4_3" value="1">
                    <label for="q4_3_1" class="option-label">ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</label>
                </div>
            </div>

            <button type="submit" class="submit-button">ë‚˜ì˜ ì¼ì˜ëŸ¬ ë ˆë²¨ í™•ì¸í•˜ê¸°! ğŸš€</button>
        </form>

        <div id="resultSection" class="result-section">
            <h2>ì§„ë‹¨ ê²°ê³¼ ë¶„ì„!</h2>
            <!-- MBTI-style archetype result will be displayed here -->
            <div id="archetypeResultDisplay" class="archetype-result">
                <!-- Content will be dynamically inserted here -->
            </div>

            <!-- New section for "4ê°€ì§€ í•µì‹¬ ìš”ì†Œ" explanation -->
            <div class="core-elements-intro">
                <h3>ğŸ’¡ 'ì¼ ì˜í•¨'ì˜ 4ê°€ì§€ í•µì‹¬ ìš”ì†Œ ğŸ’¡</h3>
                <p>
                    'ì¼ì„ ì˜í•œë‹¤'ëŠ” ë‹¨ìˆœíˆ í•œë‘ ê°€ì§€ ëŠ¥ë ¥ì´ ë›°ì–´ë‚˜ë‹¤ëŠ” ê²ƒì„ ë„˜ì–´, **ì–‘, í’ˆì§ˆ, ë‚œì´ë„, ì‹œê°„** ì´ ë„¤ ê°€ì§€ í•µì‹¬ ìš”ì†Œë¥¼ ê· í˜• ìˆê²Œ ê´€ë¦¬í•˜ëŠ” ëŠ¥ë ¥ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ ì¤‘ ì–´ëŠ í•˜ë‚˜ë¼ë„ ë¶€ì¡±í•˜ë‹¤ë©´ 'ì¼ ì˜í•¨' ì „ì²´ê°€ í”ë“¤ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§„ì •í•œ 'ì¼ì˜ëŸ¬'ëŠ” ì´ ë„¤ ê°€ì§€ ìš”ì†Œë¥¼ ê³ ë£¨ ê°–ì¶”ê³  ë°œì „ì‹œí‚¤ëŠ” ë°ì„œ ì‹œì‘ë©ë‹ˆë‹¤.
                </p>
                <ul>
                    <li>ğŸŒŸ <strong>ì–‘ (Amount):</strong> ì£¼ì–´ì§„ ì‹œê°„ ì•ˆì— ì–¼ë§ˆë‚˜ ë§ì€ ê°€ì¹˜ ìˆëŠ” ê²°ê³¼ë¬¼ì„ íš¨ìœ¨ì ìœ¼ë¡œ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•œ ì—­ëŸ‰ì…ë‹ˆë‹¤.</li>
                    <li>ğŸŒŸ <strong>í’ˆì§ˆ (Quality):</strong> ê²°ê³¼ë¬¼ì´ ì–¼ë§ˆë‚˜ ìš°ìˆ˜í•˜ê³  ê¸°ëŒ€ì¹˜ë¥¼ ì¶©ì¡±í•˜ëŠ”ì§€, ì •í™•ì„±ê³¼ ì™„ì„±ë„ë¥¼ ê°–ì¶”ëŠ” ê²ƒì— ëŒ€í•œ ê¸°ì¤€ì…ë‹ˆë‹¤.</li>
                    <li>ğŸŒŸ <strong>ë‚œì´ë„ (Difficulty):</strong> ë³µì¡í•˜ê³  ì–´ë ¤ìš´ ë¬¸ì œë¥¼ ì„±ê³µì ìœ¼ë¡œ í•´ê²°í•˜ë©° ìƒˆë¡œìš´ ë°©ë²•ì„ ì°¾ì•„ ì ìš©í•˜ëŠ” ëŠ¥ë ¥ì…ë‹ˆë‹¤.</li>
                    <li>ğŸŒŸ <strong>ì‹œê°„ (Time):</strong> ì£¼ì–´ì§„ ê¸°í•œ ë‚´ì— ìµœì ì˜ ì‹œê°„ì„ í™œìš©í•˜ì—¬ ì—…ë¬´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì™„ë£Œí•˜ëŠ” ëŠ¥ë ¥ì…ë‹ˆë‹¤.</li>
                </ul>
            </div>

            <!-- Removed total score display as per user request -->
            <!-- <p class="score-display">ì´ì : <span id="totalScore">0</span>ì </p> -->

            <div class="domain-score-section">
                <h3>ì˜ì—­ë³„ ì ìˆ˜ ì‚´í´ë³´ê¸° ğŸ”</h3>
                <div class="domain-score-item">
                    <span class="domain-name">1. ì—…ë¬´ì˜ ì–‘</span>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="domain1ProgressBar">
                            <span class="score-text" id="domain1Score">0ì </span>
                        </div>
                    </div>
                </div>
                <div class="domain-score-item">
                    <span class="domain-name">2. ì™„ì„±ë„</span>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="domain2ProgressBar">
                            <span class="score-text" id="domain2Score">0ì </span>
                        </div>
                    </div>
                </div>
                <div class="domain-score-item">
                    <span class="domain-name">3. ë‚œì´ë„</span>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="domain3ProgressBar">
                            <span class="score-text" id="domain3Score">0ì </span>
                        </div>
                    </div>
                </div>
                <div class="domain-score-item">
                    <span class="domain-name">4. ì‹œê°„</span>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="domain4ProgressBar">
                            <span class="score-text" id="domain4Score">0ì </span>
                        </div>
                    </div>
                </div>
            </div>

            <div id="diagnosisDetail" class="diagnosis-detail"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('selfDiagnosisForm');
            const questionsContainer = form;
            const questionItems = Array.from(questionsContainer.getElementsByClassName('question-item'));
            const submitButton = document.querySelector('.submit-button');

            // Fisher-Yates (Knuth) Shuffle algorithm
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]]; // Swap elements
                }
            }

            // Shuffle and re-append questions
            shuffleArray(questionItems);
            questionItems.forEach(item => {
                questionsContainer.appendChild(item);
            });

            // Append the submit button AFTER all shuffled questions
            questionsContainer.appendChild(submitButton);

            // Update question numbers after shuffling
            questionItems.forEach((item, index) => {
                const label = item.querySelector('label');
                if (label) {
                    const originalText = label.textContent.replace(/^\d+\.\s*/, '');
                    label.textContent = `${index + 1}. ${originalText}`;
                }
            });
        });

        // Function to show custom message box
        function showMessageBox(message) {
            const existingMessageBox = document.querySelector('.message-box-overlay');
            if (existingMessageBox) {
                existingMessageBox.remove(); // Remove any existing box before creating a new one
            }

            const messageBoxOverlay = document.createElement('div');
            messageBoxOverlay.className = 'message-box-overlay';
            messageBoxOverlay.innerHTML = `
                <div class="message-box-content">
                    <p class="text-lg font-semibold text-red-600 mb-4">ì•Œë¦¼</p>
                    <p class="text-gray-700 mb-6">${message}</p>
                    <button onclick="this.closest('.message-box-overlay').remove()">í™•ì¸</button>
                </div>
            `;
            document.body.appendChild(messageBoxOverlay);
        }

        document.getElementById('selfDiagnosisForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            // Define domain questions and names at the top of the submit handler
            const domainQuestions = {
                domain1: ['q1_1', 'q1_2', 'q1_3'],
                domain2: ['q2_1', 'q2_2', 'q2_3'],
                domain3: ['q3_1', 'q3_2', 'q3_3'],
                domain4: ['q4_1', 'q4_2', 'q4_3']
            };
            const domainNames = { // For displaying in results
                domain1: 'ì—…ë¬´ì˜ ì–‘',
                domain2: 'ì™„ì„±ë„',
                domain3: 'ë‚œì´ë„',
                domain4: 'ì‹œê°„'
            };

            let totalScore = 0; // Keep totalScore for archetype determination
            let domainScores = {
                domain1: 0, // ì—…ë¬´ì˜ ì–‘
                domain2: 0, // ì™„ì„±ë„
                domain3: 0, // ë‚œì´ë„
                domain4: 0  // ì‹œê°„
            };
            
            const form = event.target;
            const questionNames = [ // All question names to check for completion
                'q1_1', 'q1_2', 'q1_3',
                'q2_1', 'q2_2', 'q2_3',
                'q3_1', 'q3_2', 'q3_3',
                'q4_1', 'q4_2', 'q4_3'
            ];

            // --- Validation Check: Ensure all questions are answered ---
            const allQuestionsAnswered = questionNames.every(qName => {
                const selectedOptionElement = form.elements[qName];
                if (!selectedOptionElement) {
                    console.error(`Question element not found for name: ${qName}`);
                    return false;
                }

                if (selectedOptionElement.length > 0) { // It's a RadioNodeList
                    for (let i = 0; i < selectedOptionElement.length; i++) {
                        if (selectedOptionElement[i].checked) {
                            return true;
                        }
                    }
                    return false; // No radio button checked in this group
                } else { // It's a single input (shouldn't happen for radio groups but for robustness)
                    return selectedOptionElement.value !== '';
                }
            });

            if (!allQuestionsAnswered) {
                showMessageBox('ì•—! ëª¨ë“  ì§ˆë¬¸ì— ë‹µë³€í•´ì£¼ì…”ì•¼ ì •í™•í•œ ì§„ë‹¨ì´ ê°€ëŠ¥í•´ìš”! ğŸ˜Š');
                return; // Stop execution if not all questions are answered
            }
            // --- End Validation Check ---


            // Calculate scores for each domain and total score
            for (const domain in domainQuestions) {
                domainQuestions[domain].forEach(questionName => {
                    const selectedOptionElement = form.elements[questionName];
                    let selectedValue = null;

                    if (selectedOptionElement) {
                        if (selectedOptionElement.value !== undefined) {
                            selectedValue = selectedOptionElement.value;
                        } else {
                            for (let i = 0; i < selectedOptionElement.length; i++) {
                                if (selectedOptionElement[i].checked) {
                                    selectedValue = selectedOptionElement[i].value;
                                    break;
                                }
                            }
                        }
                    }

                    if (selectedValue !== null && selectedValue !== '') {
                        const score = parseInt(selectedValue);
                        if (!isNaN(score)) {
                            domainScores[domain] += score;
                            totalScore += score;
                        } else {
                            console.error(`Invalid score value (NaN) for ${questionName}: ${selectedValue}`);
                        }
                    }
                });
            }

            // Removed total score display as per user request
            // document.getElementById('totalScore').textContent = totalScore;

            // Update progress bars and scores
            const maxScorePerDomain = 15; // Each domain has 3 questions * 5 points max
            function updateProgressBar(domainId, score, maxScore) {
                const progressBar = document.getElementById(domainId + 'ProgressBar');
                const scoreText = document.getElementById(domainId + 'Score');
                const percentage = (score / maxScore) * 100;

                progressBar.style.width = `${percentage}%`;
                scoreText.textContent = `${score}ì `;

                // Set color based on percentage
                progressBar.classList.remove('low', 'medium', 'high');
                if (percentage < 50) { // Less than 50% (e.g., < 7.5 points)
                    progressBar.classList.add('low');
                } else if (percentage < 75) { // 50% to 75% (e.g., 7.5 to 11.25 points)
                    progressBar.classList.add('medium');
                } else { // 75% or more (e.g., > 11.25 points)
                    progressBar.classList.add('high');
                }
            }

            updateProgressBar('domain1', domainScores.domain1, maxScorePerDomain);
            updateProgressBar('domain2', domainScores.domain2, maxScorePerDomain);
            updateProgressBar('domain3', domainScores.domain3, maxScorePerDomain);
            updateProgressBar('domain4', domainScores.domain4, maxScorePerDomain);


            const archetypeResultDisplay = document.getElementById('archetypeResultDisplay');
            const diagnosisDetailDiv = document.getElementById('diagnosisDetail');
            let archetypeHtml = '';
            let detailHtml = '';

            // Find weakest and strongest domains for detailed analysis
            let sortedDomains = Object.keys(domainScores).sort((a, b) => domainScores[a] - domainScores[b]);
            let weakestDomains = [];
            let strongestDomains = [];

            if (sortedDomains.length > 0) {
                const minScore = domainScores[sortedDomains[0]];
                const maxScore = domainScores[sortedDomains[sortedDomains.length - 1]];

                // If all scores are the same, don't highlight specific weakest/strongest
                if (minScore === maxScore) {
                    weakestDomains = [];
                    strongestDomains = [];
                } else {
                    weakestDomains = sortedDomains.filter(domain => domainScores[domain] === minScore);
                    strongestDomains = sortedDomains.filter(domain => domainScores[domain] === maxScore);
                }
            }


            // MBTI-style Archetype Determination and Content
            let archetypeTitle = '';
            let archetypeSubtitle = '';
            let archetypeDescription = '';
            let archetypeImage = ''; // Placeholder for image URL if applicable

            if (totalScore >= 45) { // 45ì  ì´ìƒ (ìµœê³ ì  60ì )
                archetypeTitle = 'âœ¨ ì„±ê³¼ ì°½ì¡°ì âœ¨';
                archetypeSubtitle = 'ë‹¹ì‹ ì€ íƒ€ê³ ë‚œ ì—…ë¬´ ë§ˆìŠ¤í„°! ğŸš€';
                archetypeDescription = `
                    ë‹¹ì‹ ì€ ì—…ë¬´ì˜ ëª¨ë“  ì˜ì—­ì—ì„œ ë¹›ë‚˜ëŠ” ì—­ëŸ‰ì„ ë³´ì—¬ì£¼ëŠ” ì§„ì •í•œ 'ì—…ë¬´ ë§ˆìŠ¤í„°'ì…ë‹ˆë‹¤. ì£¼ì–´ì§„ ì‹œê°„ ì•ˆì— ë†’ì€ ê°€ì¹˜ì˜ ê²°ê³¼ë¬¼ì„ ëŒ€ëŸ‰ ìƒì‚°í•˜ë©°, ì–´ë–¤ ë‚œì´ë„ì˜ ì—…ë¬´ë“  ì™„ë²½í•˜ê²Œ ì²˜ë¦¬í•˜ëŠ” ëŠ¥ë ¥ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì˜ íš¨ìœ¨ì„±ê³¼ ì •í™•ì„±ì€ ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œ ì˜ê°ì„ ì£¼ë©°, ëŠì„ì—†ì´ ë°°ìš°ê³  ì„±ì¥í•˜ëŠ” íƒœë„ëŠ” ë‹¹ì‹ ì„ ìµœê³ ì˜ ì „ë¬¸ê°€ë¡œ ë§Œë“­ë‹ˆë‹¤.
                `;
                archetypeImage = 'https://placehold.co/150x150/4CAF50/FFFFFF?text=MASTER'; // Placeholder image
                
                detailHtml += `
                    <div class="analysis-category strength">
                        <h4>âœ… ë‹¹ì‹ ì˜ ê°•ë ¥í•œ ê°•ì !</h4>
                        <ul>
                            <li><strong>ì „ë°˜ì ì¸ ì—…ë¬´ ì—­ëŸ‰:</strong> ëª¨ë“  í•µì‹¬ ì˜ì—­ì—ì„œ ë§¤ìš° ë›°ì–´ë‚œ ì„±ê³¼ë¥¼ ë³´ì´ë©°, ì—…ë¬´ ì²˜ë¦¬ ëŠ¥ë ¥ê³¼ ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ì´ íƒì›”í•©ë‹ˆë‹¤.</li>
                            <li><strong>ë†’ì€ ìƒì‚°ì„±ê³¼ í’ˆì§ˆ:</strong> ì£¼ì–´ì§„ ì‹œê°„ ì•ˆì— ë†’ì€ ê°€ì¹˜ì˜ ê²°ê³¼ë¬¼ì„ ë§ì´ ìƒì‚°í•˜ê³ , ì˜¤ë¥˜ ì—†ì´ ì™„ë²½í•œ í’ˆì§ˆì„ ìœ ì§€í•©ë‹ˆë‹¤.</li>
                            <li><strong>ë„ì „ì ì¸ íƒœë„:</strong> ë³µì¡í•œ ë¬¸ì œì— ì ê·¹ì ìœ¼ë¡œ ë„ì „í•˜ê³  ìƒˆë¡œìš´ ì§€ì‹ ìŠµë“ì— ì—´ë ¤ ìˆìŠµë‹ˆë‹¤.</li>
                        </ul>
                    </div>
                    <div class="analysis-category weakness">
                        <h4>ğŸ’¡ ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„ì•½í•˜ê¸° ìœ„í•œ ì œì–¸</h4>
                        <ul>
                            <li>í˜„ì¬ì˜ ë›°ì–´ë‚œ ì—­ëŸ‰ì„ ë°”íƒ•ìœ¼ë¡œ ë¦¬ë”ì‹­ì„ ë°œíœ˜í•˜ê±°ë‚˜, ì¡°ì§ ë‚´ì—ì„œ í•µì‹¬ì ì¸ ì—­í• ì„ ìˆ˜í–‰í•˜ë©° ë‹¤ë¥¸ ì´ë“¤ì—ê²Œ ì˜ê°ì„ ì£¼ëŠ” ë©˜í† ê°€ ë˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.</li>
                            <li>ë”ìš± ë³µì¡í•˜ê³  ì „ëµì ì¸ í”„ë¡œì íŠ¸ì— ì°¸ì—¬í•˜ì—¬ ì˜í–¥ë ¥ì„ í™•ëŒ€í•˜ê³ , ì§€ì†ì ì¸ ìê¸° ê³„ë°œì„ í†µí•´ ìµœê³  ì „ë¬¸ê°€ë¡œì„œì˜ ì…ì§€ë¥¼ ë”ìš± ê³µê³ íˆ í•˜ì‹­ì‹œì˜¤.</li>
                        </ul>
                    </div>
                `;
            } else if (totalScore >= 30 && totalScore < 45) { // 30ì  ì´ìƒ 44ì  ì´í•˜
                archetypeTitle = 'ğŸŒ± ì„±ì¥í˜• ì „ë¬¸ê°€ ğŸŒ±';
                archetypeSubtitle = 'ì—…ë¬´ì˜ ì‹ ì´ ë  ì ì¬ë ¥ì´ ì¶©ë¶„í•´ìš”!';
                archetypeDescription = `
                    ë‹¹ì‹ ì€ ì—…ë¬´ì˜ ì—¬ëŸ¬ ì˜ì—­ì—ì„œ ì•ˆì •ì ì¸ ì—­ëŸ‰ì„ ë³´ì—¬ì£¼ë©° ê¾¸ì¤€íˆ ì„±ì¥í•˜ê³  ìˆëŠ” 'ì„±ì¥í˜• ì „ë¬¸ê°€'ì…ë‹ˆë‹¤. ê¸°ë³¸ì ì¸ ì—…ë¬´ ì²˜ë¦¬ ëŠ¥ë ¥ê³¼ ì™„ì„±ë„ëŠ” í›Œë¥­í•˜ì§€ë§Œ, íŠ¹ì • ì˜ì—­ì—ì„œëŠ” ì¡°ê¸ˆ ë” ì§‘ì¤‘ì ì¸ ë…¸ë ¥ì„ í†µí•´ í•œ ë‹¨ê³„ ë” ë„ì•½í•  ìˆ˜ ìˆëŠ” ì ì¬ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ì§€ì‹ê³¼ ê¸°ìˆ  ìŠµë“ì— ì—´ë ¤ ìˆìœ¼ë©°, ê¾¸ì¤€í•œ ë…¸ë ¥ì„ í†µí•´ ë”ìš± ë¹›ë‚  ê²ƒì…ë‹ˆë‹¤.
                `;
                archetypeImage = 'https://placehold.co/150x150/FFB300/FFFFFF?text=GROWTH'; // Placeholder image

                detailHtml += `
                    <div class="analysis-category strength">
                        <h4>âœ… ë‹¹ì‹ ì˜ ê°•ì </h4>
                        <ul>
                            <li><strong>ì•ˆì •ì ì¸ ì—…ë¬´ ì²˜ë¦¬:</strong> ëŒ€ë¶€ë¶„ì˜ ì—…ë¬´ëŸ‰ì„ ì˜ ì²˜ë¦¬í•˜ë©°, ê¸°ë³¸ì ì¸ ì—…ë¬´ ì™„ì„±ë„ëŠ” ìœ ì§€ë©ë‹ˆë‹¤.</li>
                            <li><strong>í‰ê·  ì´ìƒì˜ ì—­ëŸ‰:</strong> ì¼ë°˜ì ì¸ ë‚œì´ë„ì˜ ì—…ë¬´ëŠ” ë¬´ë¦¬ ì—†ì´ ì²˜ë¦¬í•˜ë©°, ì‹œê°„ ê´€ë¦¬ ëŠ¥ë ¥ë„ ëŒ€ì²´ë¡œ ì–‘í˜¸í•©ë‹ˆë‹¤.</li>
                        </ul>
                    </div>
                    <div class="analysis-category weakness">
                        <h4>âš ï¸ ê°œì„ ì´ í•„ìš”í•œ ì˜ì—­</h4>
                        <ul>
                            <li>${weakestDomains.length > 0 ? `íŠ¹íˆ **${weakestDomains.map(d => domainNames[d]).join(', ')}** ì˜ì—­ì—ì„œ ì ìˆ˜ê°€ ìƒëŒ€ì ìœ¼ë¡œ ë‚®ê²Œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤. ì´ ë¶€ë¶„ì— ëŒ€í•œ ì§‘ì¤‘ì ì¸ ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤.` : 'ì˜ì—­ë³„ ì ìˆ˜ê°€ ê³ ë¥´ê²Œ ë¶„í¬ë˜ì–´ ìˆìœ¼ë‚˜, ê° ì˜ì—­ì˜ ì ìˆ˜ë¥¼ í•œ ë‹¨ê³„ ë” ë†’ì´ê¸° ìœ„í•œ ë…¸ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.'}</li>
                            <li>**êµ¬ì²´ì ì¸ ê°œì„  ë°©ì•ˆ:**
                                <ul>
                                    ${weakestDomains.includes('domain1') ? '<li>**ì—…ë¬´ì˜ ì–‘:** ì—…ë¬´ëŸ‰ì´ ë§ì„ ë•Œ íš¨ìœ¨ì„± ì €í•˜ë¥¼ ë§‰ê¸° ìœ„í•´ ìš°ì„ ìˆœìœ„ ì„¤ì •ê³¼ ìœ„ì„ ì—°ìŠµì„ í•´ë³´ì„¸ìš”.</li>' : ''}
                                    ${weakestDomains.includes('domain2') ? '<li>**ì™„ì„±ë„:** ê²°ê³¼ë¬¼ ì œì¶œ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ í™œìš©, ë™ë£Œ í”¼ë“œë°± ìš”ì²­ ë“± ê¼¼ê¼¼í•¨ì„ ë†’ì´ëŠ” ìŠµê´€ì„ ë“¤ì—¬ë³´ì„¸ìš”.</li>' : ''}
                                    ${weakestDomains.includes('domain3') ? '<li>**ë‚œì´ë„:** ìƒˆë¡œìš´ í•™ìŠµ ìë£Œë¥¼ ì°¾ì•„ë³´ê±°ë‚˜, ì „ë¬¸ê°€ ë©˜í† ë§ì„ í†µí•´ ë³µì¡í•œ ë¬¸ì œ í•´ê²° ì—­ëŸ‰ì„ í‚¤ì›Œë³´ì„¸ìš”.</li>' : ''}
                                    ${weakestDomains.includes('domain4') ? '<li>**ì‹œê°„:** ë°ë“œë¼ì¸ ê´€ë¦¬ë¥¼ ìœ„í•œ íˆ´ í™œìš©, ì‹œê°„ ë¸”ë¡œí‚¹ ë“± ì²´ê³„ì ì¸ ì‹œê°„ ê´€ë¦¬ë²•ì„ ì ìš©í•´ë³´ì„¸ìš”.</li>' : ''}
                                    <li>ì´ ì™¸ì—ë„ ì•½ì  ì˜ì—­ì˜ ì „ë¬¸ì„±ì„ ê°•í™”í•˜ê¸° ìœ„í•œ í•™ìŠµì´ë‚˜ êµìœ¡ í”„ë¡œê·¸ë¨ì„ ê³ ë ¤í•´ ë³´ì„¸ìš”.</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                `;
            } else if (totalScore >= 15 && totalScore < 30) { // 15ì  ì´ìƒ 29ì  ì´í•˜
                archetypeTitle = 'ğŸ’¡ ì ì¬ë ¥ ê°œë°œì ğŸ’¡';
                archetypeSubtitle = 'ë‹¹ì‹  ì•ˆì—ëŠ” ë¬´í•œí•œ ê°€ëŠ¥ì„±ì´ ì ë“¤ì–´ ìˆì–´ìš”!';
                archetypeDescription = `
                    ë‹¹ì‹ ì€ 'ì¼ì˜ëŸ¬'ë¡œ ë³€ì‹  ì¤‘ì¸ ê·€ì—¬ìš´ ìƒˆì‹¹ì…ë‹ˆë‹¤. í˜„ì¬ ì—…ë¬´ì˜ ì¼ë¶€ ì˜ì—­ì—ì„œ ì–´ë ¤ì›€ì„ ê²ªê³  ìˆì„ ìˆ˜ ìˆì§€ë§Œ, ì´ëŠ” ì„±ì¥ì„ ìœ„í•œ ì¤‘ìš”í•œ ê¸°íšŒì…ë‹ˆë‹¤. ëˆê¸° ìˆê²Œ ë…¸ë ¥í•˜ê³  í•„ìš”í•œ ë„ì›€ì„ ë°›ëŠ”ë‹¤ë©´, ìˆ¨ê²¨ì§„ ì ì¬ë ¥ì„ í­ë°œì ìœ¼ë¡œ ê°œë°œí•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ì‘ì€ ì„±ê³µ ê²½í—˜ë“¤ì´ ë‹¹ì‹ ì„ ë”ìš± ë‹¨ë‹¨í•˜ê²Œ ë§Œë“¤ ê±°ì˜ˆìš”.
                `;
                archetypeImage = 'https://placehold.co/150x150/FF8C00/FFFFFF?text=POTENTIAL'; // Placeholder image

                detailHtml += `
                    <div class="analysis-category weakness">
                        <h4>ğŸš¨ ì§‘ì¤‘ ê°œì„ ì´ ì‹œê¸‰í•œ ì˜ì—­</h4>
                        <ul>
                            <li>${weakestDomains.length > 0 ? `íŠ¹íˆ **${weakestDomains.map(d => domainNames[d]).join(', ')}** ì˜ì—­ì—ì„œ ë‚®ì€ ì ìˆ˜ë¥¼ ë³´ì˜€ìŠµë‹ˆë‹¤. ì´ ì˜ì—­ë“¤ì´ í˜„ì¬ ì—…ë¬´ ì„±ê³¼ì— ê°€ì¥ í° ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤.` : 'ì˜ì—­ë³„ ì ìˆ˜ê°€ ì „ë°˜ì ìœ¼ë¡œ ë‚®ì€ í¸ì´ë¯€ë¡œ, ëª¨ë“  ì˜ì—­ì— ëŒ€í•œ ê¸°ì´ˆ ì—­ëŸ‰ ê°•í™”ê°€ í•„ìš”í•©ë‹ˆë‹¤.'}</li>
                            <li>**êµ¬ì²´ì ì¸ ê°œì„  ë°©ì•ˆ:**
                                <ul>
                                    ${weakestDomains.includes('domain1') ? '<li>**ì—…ë¬´ì˜ ì–‘:** í•œ ë²ˆì— í•˜ë‚˜ì˜ ì—…ë¬´ì— ì§‘ì¤‘í•˜ê³ , ì‘ì€ ëª©í‘œë¥¼ ì„¤ì •í•˜ì—¬ ì™„ë£Œí•˜ëŠ” ê²½í—˜ì„ ìŒ“ìœ¼ì„¸ìš”.</li>' : ''}
                                    ${weakestDomains.includes('domain2') ? '<li>**ì™„ì„±ë„:** ì—…ë¬´ ì‹œì‘ ì „ ëª…í™•í•œ ëª©í‘œë¥¼ ì„¤ì •í•˜ê³ , ê°„ë‹¨í•œ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ì‹¤ìˆ˜ë¥¼ ì¤„ì´ëŠ” ì—°ìŠµì„ í•˜ì„¸ìš”.</li>' : ''}
                                    ${weakestDomains.includes('domain3') ? '<li>**ë‚œì´ë„:** ì‰¬ìš´ ì—…ë¬´ë¶€í„° ì„±ê³µ ê²½í—˜ì„ ìŒ“ê³ , ì–´ë ¤ìš´ ë¬¸ì œëŠ” ì‘ì€ ë‹¨ìœ„ë¡œ ìª¼ê°œì–´ í•´ê²°í•˜ëŠ” ì—°ìŠµì„ í•˜ì„¸ìš”. í•„ìš”í•œ ê²½ìš° ì£¼ì €í•˜ì§€ ë§ê³  ë„ì›€ì„ ìš”ì²­í•˜ì„¸ìš”.</li>' : ''}
                                    ${weakestDomains.includes('domain4') ? '<li>**ì‹œê°„:** ë§¤ì¼ í•  ì¼ ëª©ë¡ì„ ì‘ì„±í•˜ê³  ìš°ì„ ìˆœìœ„ë¥¼ ì •í•´ ë³´ì„¸ìš”. ì˜ˆìƒ ì†Œìš” ì‹œê°„ì„ ê¸°ë¡í•˜ê³  ì‹¤ì œ ì‹œê°„ê³¼ ë¹„êµí•˜ë©° ì‹œê°„ ê°ê°ì„ í‚¤ìš°ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.</li>' : ''}
                                    <li>ê¸°ë³¸ì ì¸ ì—…ë¬´ ìŠµê´€ì„ í™•ë¦½í•˜ê³ , ê° ì˜ì—­ë³„ë¡œ ë‹¨ê³„ì ì¸ ì—­ëŸ‰ ê°•í™” ê³„íšì„ ìˆ˜ë¦½í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.</li>
                                    <li>ì‘ì€ ì„±ê³µ ê²½í—˜ì„ í†µí•´ ìì‹ ê°ì„ í‚¤ìš°ê³ , í•„ìš”í•œ ê²½ìš° ë©˜í† ë§ì´ë‚˜ êµìœ¡ í”„ë¡œê·¸ë¨ì„ í†µí•´ ë„ì›€ì„ ë°›ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                `;
            }
            else { // 14ì  ì´í•˜ (ìµœì €ì  12ì )
                archetypeTitle = 'ğŸ› ê¸°ì´ˆ ë‹¤ì§€ê¸°í˜• ğŸ›';
                archetypeSubtitle = 'ë‚˜ë¹„ê°€ ë  ì¤€ë¹„ ì¤‘ì¸ ë‹¹ì‹ !';
                archetypeDescription = `
                    í˜„ì¬ ì—…ë¬´ ì—­ëŸ‰ì˜ ê¸°ì´ˆë¥¼ ë‹¤ì§€ëŠ” ë° ì§‘ì¤‘í•´ì•¼ í•  'ê¸°ì´ˆ ë‹¤ì§€ê¸°í˜•'ì…ë‹ˆë‹¤. ì—¬ëŸ¬ ì˜ì—­ì—ì„œ ì–´ë ¤ì›€ì„ ê²ªê³  ìˆì„ ìˆ˜ ìˆì§€ë§Œ, ì´ëŠ” ì„±ì¥ì„ ìœ„í•œ ì¤‘ìš”í•œ ì „í™˜ì ì…ë‹ˆë‹¤. í¬ê¸°í•˜ì§€ ì•Šê³  ê¾¸ì¤€íˆ ë…¸ë ¥í•œë‹¤ë©´, ë‹¹ì‹  ì•ˆì— ìˆ¨ê²¨ì§„ ë¬´í•œí•œ ì ì¬ë ¥ì„ ê¹¨ì›Œ ë©‹ì§„ 'ì¼ì˜ëŸ¬'ë¡œ ê±°ë“­ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‘ì€ ì‹œì‘ì´ í° ë³€í™”ë¥¼ ê°€ì ¸ì˜¬ ê±°ì˜ˆìš”.
                `;
                archetypeImage = 'https://placehold.co/150x150/EF5350/FFFFFF?text=BUILDER'; // Placeholder image

                detailHtml += `
                    <div class="analysis-category weakness">
                        <h4>ğŸ”´ ê¸´ê¸‰ ê°œì„ ì´ í•„ìš”í•œ í•µì‹¬ ì˜ì—­</h4>
                        <ul>
                            <li>${weakestDomains.length > 0 ? `íŠ¹íˆ **${weakestDomains.map(d => domainNames[d]).join(', ')}** ì˜ì—­ì—ì„œ ë§¤ìš° ë‚®ì€ ì ìˆ˜ë¥¼ ë³´ì˜€ìŠµë‹ˆë‹¤. ì´ ì˜ì—­ë“¤ì´ í˜„ì¬ ì—…ë¬´ ìˆ˜í–‰ì— ê°€ì¥ í° ì¥ì• ë¬¼ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.` : 'ëª¨ë“  ì˜ì—­ì˜ ì ìˆ˜ê°€ ë§¤ìš° ë‚®ì€ í¸ì´ë¯€ë¡œ, ì „ë°˜ì ì¸ ì—…ë¬´ ì—­ëŸ‰ì˜ ê¸°ì´ˆë¥¼ ë‹¤ì§€ëŠ” ê²ƒì´ ì‹œê¸‰í•©ë‹ˆë‹¤.'}</li>
                            <li>**êµ¬ì²´ì ì¸ ê°œì„  ë°©ì•ˆ:**
                                <ul>
                                    <li>ê°€ì¥ ê¸°ë³¸ì ì¸ ì—…ë¬´ ì›ì¹™ë¶€í„° ë‹¤ì‹œ ì •ë¦½í•˜ëŠ” ê²ƒì´ í•„ìš”í•©ë‹ˆë‹¤. ë§ˆì¹˜ ê±´ë¬¼ì„ ì§€ì„ ë•Œ íŠ¼íŠ¼í•œ ê¸°ì´ˆë¥¼ ë‹¤ì§€ëŠ” ê²ƒì²˜ëŸ¼ìš”!</li>
                                    <li>**ì—…ë¬´ì˜ ì–‘ê³¼ ì™„ì„±ë„:** ì ì€ ì—…ë¬´ëŸ‰ì—ë„ ë¶ˆêµ¬í•˜ê³  íš¨ìœ¨ì ì¸ ì²˜ë¦¬ê°€ ì–´ë µê±°ë‚˜, ê²°ê³¼ë¬¼ì˜ í’ˆì§ˆì´ ë‚®ë‹¤ë©´, í•˜ë‚˜ì˜ ì—…ë¬´ë¼ë„ ì •í™•í•˜ê³  ë§Œì¡±ìŠ¤ëŸ½ê²Œ ë§ˆë¬´ë¦¬í•˜ëŠ” ë° ì§‘ì¤‘í•˜ëŠ” ì—°ìŠµì„ ì‹œì‘í•˜ì„¸ìš”.</li>
                                    <li>**ë‚œì´ë„:** ê°„ë‹¨í•œ ì—…ë¬´ë„ ë³µì¡í•˜ê²Œ ëŠê»´ì§„ë‹¤ë©´, ì—…ë¬´ë¥¼ ì•„ì£¼ ì‘ì€ ë‹¨ê³„ë¡œ ë‚˜ëˆ„ì–´ í•˜ë‚˜ì”© í•´ê²°í•˜ëŠ” ì—°ìŠµì„ í•˜ì„¸ìš”. ì£¼ì €í•˜ì§€ ë§ê³  ì£¼ë³€ì— ì ê·¹ì ìœ¼ë¡œ ë„ì›€ì„ ìš”ì²­í•˜ì„¸ìš”.</li>
                                    <li>**ì‹œê°„:** ì‹œê°„ ê´€ë¦¬ê°€ ì „í˜€ ë˜ì§€ ì•Šê±°ë‚˜ ë§ˆê° ê¸°í•œì„ ê±°ì˜ ì¤€ìˆ˜í•˜ì§€ ëª»í•œë‹¤ë©´, ë§¤ì¼ ì•„ì¹¨ 'ì˜¤ëŠ˜ì˜ ê°€ì¥ ì¤‘ìš”í•œ ì—…ë¬´ 1ê°€ì§€'ë¥¼ ì •í•˜ê³  ê·¸ê²ƒë¶€í„° ì™„ë£Œí•˜ëŠ” ìŠµê´€ì„ ë“¤ì—¬ë³´ì„¸ìš”.</li>
                                    <li>ì „ë¬¸ê°€ì˜ ì‹¬ì¸µ ìƒë‹´ì´ë‚˜ ì²´ê³„ì ì¸ ê¸°ì´ˆ êµìœ¡ í”„ë¡œê·¸ë¨ì„ í†µí•´ ê·¼ë³¸ì ì¸ ì—­ëŸ‰ ê°•í™”ë¥¼ ìœ„í•œ ë…¸ë ¥ì„ ê¸°ìš¸ì´ì‹­ì‹œì˜¤.</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                `;
            }

            // Render archetype result
            archetypeResultDisplay.innerHTML = `
                <img src="${archetypeImage}" alt="Archetype Image" class="archetype-image">
                <div class="archetype-title">${archetypeTitle}</div>
                <div class="archetype-subtitle">${archetypeSubtitle}</div>
                <p class="archetype-description">${archetypeDescription}</p>
            `;
            diagnosisDetailDiv.innerHTML = detailHtml;

            // Show the result section
            document.getElementById('resultSection').style.display = 'block';

            // Scroll to the result section for better UX on mobile
            document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth' });
        });
    </script>
</body>
</html>
